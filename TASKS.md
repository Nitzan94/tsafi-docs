# רשימת משימות - מערכת ניהול מסמכים לצפי
## תכנון ומעקב פיתוח MVP

---

## 📊 סטטוס כללי

**תאריך התחלה**: 17/8/2025  
**יעד השלמה**: 2-3 שבועות  
**הערכת שעות**: 40-60 שעות  
**סטטוס נוכחי**: תכנון ותיעוד ✅

---

## 🎯 אבני דרך (Milestones)

### Phase 1: הכנה ותכנון (✅ הושלם)
- [x] הגדרת דרישות ומפרט MVP
- [x] בחירת טכנולוגיות
- [x] יצירת מסמכי תכנון
- [x] תיעוד בקובצי CLAUDE.md ו-MVP.md

### Phase 2: סביבת פיתוח (🔄 בתהליך)
- [ ] יצירת פרויקט React עם Vite
- [ ] התקנת תלויות בסיסיות
- [ ] הגדרת מבנה תיקיות
- [ ] הגדרת ESLint, Prettier, TypeScript

### Phase 3: ליבת המערכת (⏳ לא התחיל)
- [ ] מבנה נתונים וטיפוסים
- [ ] store עם Zustand
- [ ] routing עם React Router
- [ ] layout בסיסי

### Phase 4: רכיבי ליבה (⏳ לא התחיל)
- [ ] מערכת ניהול טמפלייטים
- [ ] מערכת ניהול מטופלים
- [ ] יצירת מסמכים חדשים
- [ ] שמירה וייצוא

### Phase 5: בדיקות ושיפורים (⏳ לא התחיל)
- [ ] בדיקות אוטומטיות
- [ ] בדיקות משתמש עם צפי
- [ ] תיקוני באגים
- [ ] אופטימיזציה וליטוש

---

## 📋 משימות מפורטות

### 🚀 Phase 2: סביבת פיתוח [הערכה: 4-6 שעות]

#### ✅ Priority: גבוה | ETA: 2-3 שעות
- **2.1 יצירת פרויקט בסיסי**
  - [ ] `npm create vite@latest tsafi-app -- --template react-ts`
  - [ ] ניקוי קבצי ברירת מחדל מיותרים
  - [ ] הגדרת title ומטא-טאגים בעברית
  - [ ] **Dependencies**: ללא
  - **הערות**: להקפיד על תמיכה ב-RTL מההתחלה

#### ✅ Priority: גבוה | ETA: 1-2 שעות  
- **2.2 התקנת חבילות יסוד**
  ```bash
  npm install @tanstack/react-query zustand react-router-dom
  npm install -D @types/node tailwindcss autoprefixer postcss
  npm install react-hook-form @hookform/resolvers zod
  npm install jspdf docx lucide-react date-fns
  ```
  - [ ] הגדרת Tailwind CSS עם תמיכה ב-RTL
  - [ ] יצירת קובץ tailwind.config.js מותאם
  - [ ] **Dependencies**: כל החבילות למעלה
  - **הערות**: להוסיף dir="rtl" ב-HTML

#### ✅ Priority: בינוני | ETA: 1 שעה
- **2.3 הגדרת כלי פיתוח**
  - [ ] ESLint עם חוקים מותאמים לעברית
  - [ ] Prettier עם הגדרות RTL
  - [ ] TypeScript config עם paths מותאמים
  - [ ] **Dependencies**: eslint, prettier מגיעים עם Vite
  - **הערות**: להגדיר import paths: @/* -> src/*

#### ✅ Priority: בינוני | ETA: 1 שעה
- **2.4 מבנה תיקיות מלא**
  ```
  src/
  ├── components/
  │   ├── ui/          # רכיבי UI בסיסיים
  │   ├── layout/      # Header, Sidebar, Container
  │   ├── templates/   # ניהול טמפלייטים
  │   ├── patients/    # ניהול מטופלים
  │   └── documents/   # יצירת מסמכים
  ├── pages/           # דפים ראשיים
  ├── store/           # Zustand stores
  ├── utils/           # פונקציות עזר
  ├── types/           # TypeScript definitions
  ├── hooks/           # Custom React hooks
  └── styles/          # CSS נוסף
  ```
  - **Dependencies**: ללא
  - **הערות**: יצירת index.ts בכל תיקייה לייצוא נוח

---

### 🏗️ Phase 3: ליבת המערכת [הערכה: 8-10 שעות]

#### ✅ Priority: גבוה | ETA: 2-3 שעות
- **3.1 הגדרת טיפוסי נתונים**
  - [ ] interface Patient (שם, ת.ז., טלפון, אימייל, תאריך לידה)
  - [ ] interface Template (id, שם, שדות, טקסט קבוע)
  - [ ] interface Document (id, מטופל, טמפלייט, תוכן, תאריך)
  - [ ] interface TemplateField (type, label, required, options)
  - [ ] יצוא כל הטיפוסים מ-types/index.ts
  - **קובץ**: `src/types/index.ts`
  - **Dependencies**: ללא
  - **הערות**: להשתמש בDateTime של date-fns

#### ✅ Priority: גבוה | ETA: 2-3 שעות
- **3.2 Zustand Store בסיסי**
  - [ ] createPatientsStore (CRUD מטופלים)
  - [ ] createTemplatesStore (CRUD טמפלייטים)  
  - [ ] createDocumentsStore (CRUD מסמכים)
  - [ ] createAppStore (הגדרות כלליות, UI state)
  - [ ] persist middleware לשמירה ב-localStorage
  - **קובץ**: `src/store/index.ts`
  - **Dependencies**: zustand
  - **הערות**: לחלק ל-4 stores נפרדים לביצועים

#### ✅ Priority: גבוה | ETA: 1-2 שעות
- **3.3 React Router הגדרה**
  - [ ] BrowserRouter עם RTL support
  - [ ] Routes: /, /patients, /templates, /document/new, /document/:id
  - [ ] 404 page בעברית
  - [ ] Navigation guards (לעתיד)
  - **קובץ**: `src/App.tsx`, `src/router.tsx`
  - **Dependencies**: react-router-dom
  - **הערות**: לתכנן מבנה URLs בעברית אם רצוי

#### ✅ Priority: בינוני | ETA: 2-3 שעות
- **3.4 Layout מערכת בסיסית**
  - [ ] Header עם לוגו ותפריט
  - [ ] Sidebar נתון לאחוזים (ניווט ראשי)
  - [ ] Main content area עם padding מותאם
  - [ ] Footer עם מידע על גרסה
  - [ ] Responsive design (נייד/שולחני)
  - **קובץ**: `src/components/layout/`
  - **Dependencies**: lucide-react לאייקונים
  - **הערות**: להשתמש ב-Flexbox/Grid, לא styled-components

---

### 🎨 Phase 4: רכיבי ליבה [הערכה: 20-25 שעות]

#### 👥 4.1 מערכת ניהול מטופלים [ETA: 5-6 שעות]

##### ✅ Priority: גבוה | ETA: 2 שעות
- **4.1.1 רשימת מטופלים**
  - [ ] רשימה עם חיפוש בזמן אמת
  - [ ] כרטיסים עם פרטי מטופל בסיסיים
  - [ ] מיון לפי שם/תאריך טיפול אחרון
  - [ ] פגינציה/virtual scrolling לביצועים
  - [ ] כפתורי עריכה ומחיקה לכל מטופל
  - **קובץ**: `src/components/patients/PatientsList.tsx`
  - **Dependencies**: react-hook-form לחיפוש
  - **בדיקות**: רשימה ריקה, חיפוש, מיון

##### ✅ Priority: גבוה | ETA: 2 שעות
- **4.1.2 טופס הוספת/עריכת מטופל**
  - [ ] שדות: שם מלא, ת.ז., טלפון, אימייל, תאריך לידה, הערות
  - [ ] Validation מלא (ת.ז. ישראלית, אימייל, טלפון)
  - [ ] הודעות שגיאה בעברית
  - [ ] שמירה אוטומטית כטיוטה
  - [ ] אישור לפני מחיקה
  - **קובץ**: `src/components/patients/PatientForm.tsx`
  - **Dependencies**: react-hook-form, zod
  - **בדיקות**: validation, שמירה, עריכה

##### ✅ Priority: בינוני | ETA: 1-2 שעות
- **4.1.3 דף פרטי מטופל**
  - [ ] תצוגת כל הפרטים האישיים
  - [ ] היסטוריית טיפולים (רשימת מסמכים)
  - [ ] סטטיסטיקות בסיסיות (מספר טיפולים, טיפול אחרון)
  - [ ] כפתורים: עריכה, מסמך חדש, אקספורט הכל
  - [ ] ליפה אחר מטופלים (לפי א"ב)
  - **קובץ**: `src/pages/PatientPage.tsx`
  - **Dependencies**: ללא
  - **בדיקות**: נתונים ריקים, מטופל עם הרבה מסמכים

#### 📝 4.2 מערכת ניהול טמפלייטים [ETA: 6-7 שעות]

##### ✅ Priority: גבוה | ETA: 2-3 שעות
- **4.2.1 עורך טמפלייטים ויזואלי**
  - [ ] גרירה ושחרור של שדות (drag & drop)
  - [ ] סוגי שדות: טקסט, טקסט ארוך, תאריך, רשימה נפתחת, checkbox
  - [ ] הוספת טקסט קבוע בין שדות
  - [ ] תצוגה מקדימה בזמן אמת
  - [ ] כפתורי הוספה/הסרה לכל שדה
  - **קובץ**: `src/components/templates/TemplateEditor.tsx`
  - **Dependencies**: react-dnd או dnd-kit
  - **בדיקות**: יצירת טמפלייט מאפס, שינוי סדר

##### ✅ Priority: גבוה | ETA: 1-2 שעות
- **4.2.2 רשימת טמפלייטים**
  - [ ] רשימה עם תמונה מוקטנת של כל טמפלייט
  - [ ] מידע בסיסי: שם, מספר שדות, תאריך יצירה
  - [ ] חיפוש וסינון לפי קטגוריה
  - [ ] כפתורי עריכה, שכפול, מחיקה, ייצוא
  - [ ] אפשרות לסמן טמפלייט כברירת מחדל
  - **קובץ**: `src/components/templates/TemplatesList.tsx`
  - **Dependencies**: ללא
  - **בדיקות**: רשימה ריקה, חיפוש, מחיקה

##### ✅ Priority: בינוני | ETA: 1-2 שעות
- **4.2.3 טמפלייטים מוכנים**
  - [ ] מאגר טמפלייטים בסיסיים לפיזיותרפיה
  - [ ] אפשרות לייבא מהמאגר
  - [ ] התאמה אישית של טמפלייטים קיימים
  - [ ] ייצוא טמפלייטים לשיתוף
  - [ ] ייבוא טמפלייטים מקובץ JSON
  - **קובץ**: `src/data/defaultTemplates.ts`
  - **Dependencies**: ללא
  - **הערות**: ליצור 3-4 טמפלייטים בסיסיים

##### ✅ Priority: בינוני | ETA: 1-2 שעות
- **4.2.4 ולידציה ותקינות טמפלייטים**
  - [ ] בדיקת תקינות מבנה טמפלייט
  - [ ] אזהרות על שדות ללא תוויות
  - [ ] בדיקת שדות חובה
  - [ ] הצעות לשיפור (שדות נפוצים)
  - [ ] בדיקת תאימות למכשירים שונים
  - **קובץ**: `src/utils/templateValidation.ts`
  - **Dependencies**: zod לvalidation
  - **בדיקות**: טמפלייטים פגומים, הודעות אזהרה

#### 📄 4.3 מערכת יצירת מסמכים [ETA: 6-7 שעות]

##### ✅ Priority: גבוה | ETA: 2-3 שעות
- **4.3.1 טופס דינמי למילוי מסמך**
  - [ ] בנייה דינמית של טופס על פי טמפלייט
  - [ ] מילוי אוטומטי של פרטי מטופל
  - [ ] Validation לכל שדה לפי הגדרות הטמפלייט
  - [ ] שמירה אוטומטית כל 30 שניות
  - [ ] ניווט בין שדות עם Tab/Enter
  - **קובץ**: `src/components/documents/DocumentForm.tsx`
  - **Dependencies**: react-hook-form
  - **בדיקות**: מילוי טופס, validation, שמירה אוטומטית

##### ✅ Priority: גבוה | ETA: 2 שעות
- **4.3.2 תצוגה מקדימה של מסמך**
  - [ ] תצוגה בזמן אמת של המסמך הסופי
  - [ ] עיצוב קרוב למקסימום לפלט הסופי
  - [ ] אפשרות לעריכה ישירה בתצוגה המקדימה
  - [ ] הדפסה ישירה מהתצוגה המקדימה
  - [ ] זום פנימה/החוצה
  - **קובץ**: `src/components/documents/DocumentPreview.tsx`
  - **Dependencies**: ללא
  - **בדיקות**: תצוגה למסמכים שונים, responsive

##### ✅ Priority: בינוני | ETA: 1-2 שעות
- **4.3.3 שמירת מסמכים כטיוטה**
  - [ ] שמירה מקומית עם מצב "טיוטה"
  - [ ] רשימת טיוטות עם אפשרות להמשיך עריכה
  - [ ] מחיקת טיוטות ישנות אוטומטית
  - [ ] התראה על טיוטות לא שמורות
  - [ ] שחזור מסמכים מגיבוי אוטומטי
  - **קובץ**: `src/store/documentsStore.ts`
  - **Dependencies**: ללא
  - **בדיקות**: שמירה, שחזור, מחיקה

##### ✅ Priority: בינוני | ETA: 1 שעה
- **4.3.4 חיפוש ומיון מסמכים**
  - [ ] חיפוש לפי שם מטופל, תאריך, תוכן מסמך
  - [ ] סינון לפי טמפלייט, טווח תאריכים
  - [ ] מיון לפי תאריך, א"ב, רלוונטיות
  - [ ] תגיות ומיון לפי קטגוריות
  - [ ] שמירת העדפות חיפוש
  - **קובץ**: `src/components/documents/DocumentsSearch.tsx`
  - **Dependencies**: fuse.js לחיפוש מתקדם
  - **בדיקות**: חיפושים שונים, ביצועים

#### 💾 4.4 מערכת ייצוא ושמירה [ETA: 4-5 שעות]

##### ✅ Priority: גבוה | ETA: 2-3 שעות
- **4.4.1 ייצוא ל-PDF מקצועי**
  - [ ] יצירת PDF עם עיצוב מקצועי ואחיד
  - [ ] תמיכה בגופן עברי (בחירת גופן מתאים)
  - [ ] כותרות עליונות ותחתונות אוטומטיות
  - [ ] מספור עמודים ותאריך הפקה
  - [ ] לוגו/כותרת קליניקה (אופציונלי)
  - **קובץ**: `src/utils/pdfExport.ts`
  - **Dependencies**: jspdf, jspdf-font-heebo
  - **בדיקות**: מסמכים באורכים שונים, גופנים עבריים

##### ✅ Priority: בינוני | ETA: 1-2 שעות
- **4.4.2 ייצוא ל-Word**
  - [ ] יצירת קובץ .docx עם תבנית מקצועית
  - [ ] שמירת עיצוב ומבנה מהמקור
  - [ ] תמיכה בטבלאות ורשימות
  - [ ] אפשרות לעריכה נוספת ב-Word
  - [ ] מטא-נתונים (יוצר, תאריך, וכו')
  - **קובץ**: `src/utils/docxExport.ts`
  - **Dependencies**: docx
  - **בדיקות**: פתיחה ב-Word, תאימות לגרסאות שונות

##### ✅ Priority: בינוני | ETA: 1 שעה
- **4.4.3 ניהול קבצים וגיבוי**
  - [ ] יצירת מבנה תיקיות אוטומטי (שנה/חודש)
  - [ ] שמות קבצים אוטומטיים: [שם_מטופל]_[תאריך]_סיכום
  - [ ] גיבוי אוטומטי של כל הנתונים
  - [ ] ייצוא/ייבוא של כל מסד הנתונים
  - [ ] ניקוי קבצים ישנים (עם אישור)
  - **קובץ**: `src/utils/fileManager.ts`
  - **Dependencies**: file-saver
  - **בדיקות**: שמירה, גיבוי, שחזור

---

### 🧪 Phase 5: בדיקות ושיפורים [הערכה: 8-10 שעות]

#### ✅ Priority: גבוה | ETA: 3-4 שעות
- **5.1 בדיקות אוטומטיות**
  - [ ] Unit tests לפונקציות utility
  - [ ] Component tests לרכיבים קריטיים
  - [ ] Integration tests לזרימות מרכזיות
  - [ ] E2E tests לתרחישי משתמש ראשיים
  - [ ] Coverage מינימום 70%
  - **קובץ**: `src/__tests__/`
  - **Dependencies**: vitest, @testing-library/react
  - **הערות**: להתמקד בפונקציונליות קריטית

#### ✅ Priority: גבוה | ETA: 2-3 שעות  
- **5.2 בדיקות משתמש עם צפי**
  - [ ] הדרכה בסיסית על השימוש במערכת
  - [ ] תרחיש מלא: יצירת טמפלייט → מילוי מסמך → ייצוא
  - [ ] איסוף פידבק על UX וקלות השימוש
  - [ ] בדיקת מהירות מילוי לעומת השיטה הנוכחית
  - [ ] תיעוד בעיות וכאבי גדילה
  - **Dependencies**: ללא
  - **הערות**: לעשות מספר סשנים קצרים

#### ✅ Priority: בינוני | ETA: 2-3 שעות
- **5.3 אופטימיזציה וביצועים**
  - [ ] בדיקת Bundle size ואופטימיזציה
  - [ ] Lazy loading לרכיבים כבדים
  - [ ] מיקרו אופטימיזציות לזמני תגובה
  - [ ] בדיקת זיכרון ותיקון זליגות
  - [ ] PWA capabilities (offline mode)
  - **Dependencies**: lighthouse, webpack-bundle-analyzer
  - **הערות**: יעד: Performance Score >90

#### ✅ Priority: בינוני | ETA: 1 שעה
- **5.4 ליטוש ושיפורי UX**
  - [ ] הוספת animations עדינות
  - [ ] שיפור הודעות משוב ו-loading states  
  - [ ] keyboard shortcuts לפעולות נפוצות
  - [ ] הטבה של defaultים חכמים
  - [ ] אזור עזרה ותמיכה בסיסית
  - **Dependencies**: framer-motion (אופציונלי)
  - **הערות**: לא להגזים באנימציות

---

## 🔄 תלויות בין משימות

### Critical Path (נתיב קריטי)
```
תכנון → סביבת פיתוח → ליבת המערכת → 
מטופלים → טמפלייטים → מסמכים → ייצוא
```

### תלויות מרכזיות
- **מסמכים תלוי ב**: מטופלים + טמפלייטים
- **ייצוא תלוי ב**: מסמכים
- **בדיקות תלויות ב**: כל הרכיבים
- **טמפלייטים תלוי ב**: ליבת המערכת
- **מטופלים תלוי ב**: ליבת המערכת

### משימות במקביל (ניתן לעשות בזמן חפיפה)
- עיצוב UI + פיתוח לוגיקה
- בדיקות unit + פיתוח רכיבים חדשים
- תיעוד + בדיקות אינטגרציה

---

## ⏰ לוח זמנים מוערך

### שבוע 1: יסודות
- **ימים 1-2**: סביבת פיתוח + ליבת המערכת
- **ימים 3-4**: מטופלים + התחלת טמפלייטים  
- **ימים 5-7**: השלמת טמפלייטים + בדיקות ראשוניות

### שבוע 2: תכונות מרכזיות
- **ימים 8-10**: מערכת יצירת מסמכים
- **ימים 11-12**: ייצוא ושמירה
- **ימים 13-14**: שיפורי UX ובדיקות

### שבוע 3: גימור ובדיקות (אופציונלי)
- **ימים 15-17**: בדיקות משתמש + תיקוני באגים
- **ימים 18-19**: אופטימיזציה וביצועים
- **יום 20**: גימור וחמוש לייצור

---

## ✅ רשימת בדיקות (Checklist)

### ✅ לפני Release
- [ ] כל הבדיקות האוטומטיות עוברות  
- [ ] בדיקה ידנית של כל תרחיש משתמש ראשי
- [ ] בדיקת תאימות למכשירים שונים
- [ ] בדיקת עבודה offline
- [ ] בדיקת ביצועים (Lighthouse >85)
- [ ] בדיקת נגישות (A11y)
- [ ] תיעוד משתמש בסיסי

### ✅ לפני כל Milestone
- [ ] כל המשימות במילסטון הושלמו
- [ ] בדיקה של integration עם משימות קודמות
- [ ] אין regression לתכונות קיימות  
- [ ] קוד עובר code review (self-review)
- [ ] תיעוד טכני עודכן

### ✅ לפני כל Commit
- [ ] `npm run lint` עובר ללא שגיאות
- [ ] `npm run typecheck` עובר ללא שגיאות  
- [ ] `npm test` - כל הבדיקות עוברות
- [ ] `npm run build` - בנייה מצליחה
- [ ] הודעת commit ברורה ומתארת

---

## 🎯 הגדרת הצלחה למשימות

### מדדי הצלחה טכניים
- **זמן טעינה ראשונית**: <3 שניות
- **זמן יצירת מסמך מלא**: <5 דקות
- **זמן ייצוא PDF**: <5 שניות
- **Coverage בדיקות**: >70%
- **Performance Score**: >85
- **Accessibility Score**: >90

### מדדי הצלחה עסקיים  
- **צפי יכולה ללמוד את המערכת תוך**: 30 דקות
- **צפי יכולה ליצור טמפלייט תוך**: 10 דקות
- **צפי יכולה למלא מסמך תוך**: 3 דקות
- **חיסכון בזמן לעומת השיטה הנוכחית**: 50%+
- **שביעות רצון של צפי**: 8/10+

---

## 📝 הערות ונקודות חשובות

### חשוב לזכור
1. **המערכת חייבת להיות פשוטה** - צפי לא טכנית
2. **עברית בכל מקום** - כותרות, הודעות, placeholders  
3. **שמירה מקומית בלבד** - אין העברת נתונים לחוץ
4. **גיבוי קריטי** - אובדן נתונים = אסון
5. **UX עדיף על פיצ'רים** - עדיף פשוט ועובד מאשר מתקדם ומסובך

### סיכונים ומיטגציה
- **סיכון**: צפי לא מבינה איך להשתמש
  - **מיטגציה**: UX פשוט, הדרכה קצרה, תמיכה זמינה
- **סיכון**: אובדן נתונים
  - **מיטגציה**: גיבוי אוטומטי, שחזור, אישורי מחיקה
- **סיכון**: איטיות במילוי מסמכים
  - **מיטגציה**: autocomplete, שמירה אוטומטית, shortcuts

### אפשרויות להרחבה עתידית
- אפליקציה נטיבית (Electron)  
- סנכרון ענן
- שיתוף עם מטפלים אחרים
- דוחות וסטטיסטיקות
- תזמון וניוד מטופלים
- אינטגרציה עם מערכות רפואיות

---

**עדכון אחרון**: 17/8/2025  
**גרסה**: 1.0  
**סטטוס**: מוכן לפיתוח