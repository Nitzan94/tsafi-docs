# פרויקט ניהול מסמכים לצפי - פיזיותרפיסטית

## פקודות נפוצות
# אלו הם הפקודות העיקריות לפרויקט זה.
- להרצת שרת הפיתוח: `npm run dev`
- לבנייה לפרודקשן: `npm run build`
- להרצת בדיקות: `npm test`
- לבדיקת lint: `npm run lint`
- לבדיקת טיפוסים: `npm run typecheck`

## מבנה הפרויקט
# זהו סידור התיקיות.
- `src/`: כל קוד המקור
- `src/components/`: רכיבי React לפי קטגוריות
  - `Layout/`: רכיבי מעטפת (Header, Navigation, Container)
  - `Templates/`: רכיבים לניהול טמפלייטים
  - `Patients/`: רכיבים לניהול מטופלים
  - `Documents/`: רכיבים ליצירת ושמירת מסמכים
- `src/pages/`: דפי הממשק הראשיים
- `src/store/`: ניהול מצב האפליקציה (Zustand)
- `src/utils/`: פונקציות עזר (יצוא, פורמט תאריכים וכו')
- `src/types/`: הגדרות TypeScript
- `public/`: קבצים סטטיים
- `docs/`: תיעוד הפרויקט

## עקרונות ליבה וחוקים
# עליך לפעול לפי חוקים אלה בכל עת.
1. **בדיקות:** כל פונקציה או רכיב חדש חייב לכלול קובץ בדיקה חדש. הרץ `npm test` לוולידציה.
2. **Lint וType Checking:** לפני כל commit, חובה להריץ `npm run lint` ו`npm run typecheck` ולתקן כל השגיאות.
3. **סגנון קוד:** השתמש ב-ES modules (`import`/`export`). כל הקוד חייב להיות נקי וקריא. אורך פונקציה לא יעלה על 30 שורות.
4. **זרימת Git:**
   - שמות ענפים חייבים לעקוב אחר `feature/description` או `fix/description`.
   - הודעות commit חייבות להיות ברורות ומתארות.
   - לעולם לא לעשות commit ישירות לענף main/master.
5. **בטיחות ותקשורת:**
   - **קריטי**: חובה לבקש אישור מפורש לפני מחיקת כל קובץ.
   - לפני ביצוע תכנית, הסבר בקצרה את הצעדים שאתה עומד לבצע.
   - לפני push למאגר המרוחק, חובה לוודא שכל הבדיקות עוברות באמצעות `npm test`.
   - תמיד השתמש בכלי TodoWrite למעקב אחר משימות מורכבות.

## סטנדרטים ברמה עולמית - תמיד יישם

### לפני כל פעולה
1. **חשב**: האם זה באיכות ארגונית?
2. **אמת**: האם זה עוקב אחר best practices?
3. **אופטימיזציה**: האם זה יכול להיות יותר יעיל/בטוח/ניתן לתחזוקה?
4. **תיעוד**: האם הכל ברור כבדולח?

### סטנדרטים מתקדמי קוד
- תמיד הצע את הגישה המודרנית והיעילה ביותר
- כלול error handling, logging ומעקב
- שקול סקיילבילות וביצועים מיום ראשון
- יישם best practices של אבטחה כברירת מחדל
- עקב אחר עקרונות SOLID ואדריכלות נקייה
- השתמש ב-TypeScript לבטיחות טיפוסים כשזמין

### סטנדרטים תקשורת
- ספק הקשר ונימוק לכל החלטה
- הצע מספר גישות עם ניתוח trade-offs
- צפה שאלות המשך וטפל בהן באופן פרואקטיבי
- כלול תיעוד רלוונטי ודוגמאות
- הסבר את ה"למה" מאחורי כל המלצה

### הבטחת איכות
- קוד חייב להיות מוכן לפרודקשן וברמה ארגונית
- כל הפתרונות חייבים להיות scalable וניתנים לתחזוקה
- שיקולי אבטחה חייבים להיות built-in, לא bolted-on
- אופטימיזציית ביצועים צריכה להישקל מההתחלה
- error handling חייב להיות מקיף וידידותי למשתמש

זכור: אנחנו בונים תוכנה ברמה עולמית, לא רק קוד שעובד.

## מפרטים ייחודיים לפרויקט

### שפה ותרבות
- **ממשק בעברית מלאה** - כל הטקסטים, הודעות וכותרות בעברית
- **תמיכה ב-RTL** - ממשק מותאם לכיוון קריאה מימין לשמאל
- **טיפוגרפיה עברית** - גופנים ברורים ונוחים לקריאה
- **תרבות מקומית** - התאמות לדרכי עבודה ישראליות

### דרישות פונקציונליות
1. **פשטות מרבית** - הממשק חייב להיות אינטואיטיבי למשתמש לא טכני
2. **מהירות בשימוש** - אפשרות למילוי מהיר של מסמכים
3. **שמירה מקומית** - כל הנתונים נשמרים במחשב האישי
4. **גיבוי אוטומטי** - שמירה רציפה למניעת אובדן נתונים
5. **תמיכה בהדפסה** - מסמכים מוכנים להדפסה מיידית

### טכנולוגיות נבחרות
- **React 18** - לביצועים מיטביים
- **TypeScript** - לבטיחות קוד
- **Tailwind CSS** - לעיצוב מהיר ועקבי
- **Zustand** - לניהול מצב פשוט
- **Vite** - לפיתוח מהיר
- **jsPDF** - ליצוא PDF
- **docx** - ליצוא Word

### זרימת פיתוח ייחודית

#### התחלת תכונה חדשה
1. השתמש ב-TodoWrite לתכנון התכונה
2. צור ענף תכונה: `git checkout -b feature/feature-name`
3. לעבודת UI: עקוב אחר זרימת עיצוב UI למטה
4. כתוב בדיקות ראשון (TDD)
5. יישם את התכונה
6. הרץ `npm test`, `npm run lint`, `npm run typecheck`
7. עשה commit עם הודעות ברורות
8. צור pull request עם תיאור מפורט

#### checklist לבדיקת קוד
לפני סימון כל משימה כהושלמה:
- [ ] כל הבדיקות עוברות
- [ ] אין שגיאות lint
- [ ] אין שגיאות TypeScript
- [ ] הקוד עוקב אחר conventions של הפרויקט
- [ ] שיקולי ביצועים נבדקו
- [ ] שיקולי אבטחה נבדקו
- [ ] תיעוד עודכן במידת הצורך
- [ ] **שינויי UI**: פרוטוקול בדיקה ויזואלית הושלם
- [ ] **עבודת UI משמעותית**: בדיקת עיצוב מקיפה עם @agent-design-review

## ביצועים ואופטימיזציה

### תמיד שקול
- השפעה על גודל bundle (השתמש ב-dynamic imports כשמתאים)
- ביצועי rendering (React.memo, useMemo, useCallback)
- בקשות רשת (יישם caching, debouncing, throttling)
- שאילתות בסיס נתונים (השתמש ב-indexes, מנע בעיות N+1)
- זליגות זיכרון (ניקוי ב-useEffect, הסרת event listeners)

### מעקב
- הוסף performance marks לפעולות קריטיות
- לוג פעולות איטיות
- עקוב אחר שינויים בגודל bundle
- עקוב אחר Core Web Vitals

## הנחיות אבטחה

### לעולם אל תעשה
- שמור secrets בקוד או תעשה להם commit
- השתמש ב-eval() או dangerouslySetInnerHTML בלי sanitization
- סמוך על קלט משתמש בלי validation
- יישם crypto/auth מותאם אישית (השתמש בספריות מבוססות)
- חשוף נתונים רגישים בקוד צד לקוח

### תמיד עשה
- אמת ונקה כל הקלטים
- השתמש ב-parameterized queries לבסיסי נתונים
- יישם מדיניות CORS נכונה
- שמור על תלויות מעודכנות
- עקוב אחר הנחיות OWASP

## הוראות ספציפיות לממשק משתמש

### עקרונות עיצוב
- **פשטות מרבית** - כפתורים גדולים, טקסט ברור
- **גישה למבוגרים** - ניגודיות גבוהה, גופנים גדולים
- **תזרים לינארי** - מעבר הגיוני בין שלבים
- **feedback מיידי** - הודעות ברורות על כל פעולה
- **מניעת שגיאות** - validation בזמן אמת

### רספונסיביות
- תמיכה מלאה במובייל ובטאבלט
- ממשק נוח לעבודה עם עכבר ומקלדת
- התאמה לגדלי מסך שונים
- תמיכה בזום עד 200%

זכור: המטרה היא ליצור כלי עבודה יומי שחוסך זמן ומפחית טעויות.